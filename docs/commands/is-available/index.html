<!DOCTYPE html>
<html>
<head>
    <meta http-eqiv='content-type' content='text/html;charset=utf-8'>
    <title>is-available</title>
    <link rel=stylesheet type="text/css" 
          href="../../docs.css">
</head>
<body>
 <div id=container>
   <p><a href="../../index.html">rundeck-loadbalancer-checks</a></p>

<h1>is-available</h1>

<p>the instance is available for traffic</p>

<h2>SYNOPSIS</h2>

<pre><code>rerun rundeck-loadbalancer-checks:is-available --thresholds &lt;&gt; --profile &lt;&gt;
</code></pre>

<h3>OPTIONS</h3>

<ul>
<li><a href="../../options/thresholds/index.html">    --thresholds &lt;>: the test thresholds (profile or key=value pairs)</a></li>
<li><a href="../../options/profile/index.html">    --profile &lt;>: the system load profile (use '-' for stdin)</a></li>
</ul>

<h2>README</h2>

<p>Run the command, piping the system info from standard input:    </p>

<pre><code>rerun rundeck-loadbalancer-checks:is-available \
    --thresholds "THRESHOLDS_CPU_LOADAVERAGE=8 THRESHOLDS_MEM_FREE_PCT=90 THRESHOLDS_THREADS_FREE=100" \
    --profile -  &lt; &lt;(rerun rundeck-loadbalancer-checks:get-system-info)
</code></pre>

<p>Output</p>

<pre><code>[info] rundeck-loadbalancer-checks:is-available: Reading profile from stdin
[info] rundeck-loadbalancer-checks:is-available: Reading thresholds from command line
Check if 'Targa.local' instance is ready to be put into rotation
  it_has_active_executionsMode:                    [PASS]
  it_is_below_max_cpu_loadAverage:                 [PASS]
  it_has_memory_available:                         [PASS]
  it_has_scheduler_threads_available:              [PASS]
=========================================================
Tests:    4 | Passed:   4 | Failed:   0
</code></pre>

<h2>TESTS</h2>

<p>Use the <code>stubbs:test</code> command to to run test plans.</p>

<pre><code>rerun stubbs:test -m rundeck-loadbalancer-checks -p is-available
</code></pre>

<p><em>Test plan sources</em></p>

<ul>
<li><a href="../../tests/is-available-1.html">is-available-1</a>
<ul>
<li>it fails without a real test</li>
</ul></li>
<li><a href="../../tests/is-available.html">is-available</a>
<ul>
<li>it has active executionsMode</li>
<li>it is below max cpu loadAverage</li>
<li>it has memory available</li>
<li>it has scheduler threads available</li>
</ul></li>
</ul>

<h2>SCRIPT</h2>

<p>To edit the command script for the rundeck-loadbalancer-checks:is-available command, 
use the <code>stubbs:edit</code>
command. It will open the command script in your shell EDITOR.</p>

<pre><code>rerun stubbs:edit -m rundeck-loadbalancer-checks -c is-available
</code></pre>

<p><em>Script source</em></p>

<ul>
<li><a href="script.html">script</a>: <code>RERUN_MODULE_DIR/commands/is-available/script</code></li>
</ul>

<h2>METADATA</h2>

<ul>
<li><code>NAME</code> = is-available</li>
<li><code>DESCRIPTION</code> = "the instance is available for traffic"</li>
<li><code>OPTIONS</code> = "thresholds profile"</li>
</ul>

<hr />

<p><em>Generated by stubbs:docs Mon Dec 14 11:08:57 PST 2015</em></p>
 </div>
</body>
</html>
