[rundeck-loadbalancer-checks](../../index.html)
# is-available 

the instance is available for traffic

## SYNOPSIS

    rerun rundeck-loadbalancer-checks:is-available --thresholds <> --profile <>

### OPTIONS

* [    --thresholds <>: the test thresholds (profile or key=value pairs)](../../options/thresholds/index.html)
* [    --profile <>: the system load profile (use '-' for stdin)](../../options/profile/index.html)

## README

Run the command, piping the system info from standard input:	

	rerun rundeck-loadbalancer-checks:is-available \
		--thresholds "THRESHOLDS_CPU_LOADAVERAGE=8 THRESHOLDS_MEM_FREE_PCT=90 THRESHOLDS_THREADS_FREE=100" \
		--profile -  < <(rerun rundeck-loadbalancer-checks:get-system-info)

Output

	[info] rundeck-loadbalancer-checks:is-available: Reading profile from stdin
	[info] rundeck-loadbalancer-checks:is-available: Reading thresholds from command line
	Check if 'Targa.local' instance is ready to be put into rotation
	  it_has_active_executionsMode:                    [PASS]
	  it_is_below_max_cpu_loadAverage:                 [PASS]
	  it_has_memory_available:                         [PASS]
	  it_has_scheduler_threads_available:              [PASS]
	=========================================================
	Tests:    4 | Passed:   4 | Failed:   0

## TESTS

Use the `stubbs:test` command to to run test plans.

    rerun stubbs:test -m rundeck-loadbalancer-checks -p is-available

*Test plan sources*

* [is-available-1](../../tests/is-available-1.html)
  * it fails without a real test
* [is-available](../../tests/is-available.html)
  * it has active executionsMode
  * it is below max cpu loadAverage
  * it has memory available
  * it has scheduler threads available

## SCRIPT

To edit the command script for the rundeck-loadbalancer-checks:is-available command, 
use the `stubbs:edit`
command. It will open the command script in your shell EDITOR.

    rerun stubbs:edit -m rundeck-loadbalancer-checks -c is-available

*Script source*

* [script](script.html): `RERUN_MODULE_DIR/commands/is-available/script`

## METADATA

* `NAME` = is-available
* `DESCRIPTION` = "the instance is available for traffic"
* `OPTIONS` = "thresholds profile"

----

*Generated by stubbs:docs Mon Dec 14 11:08:57 PST 2015*

