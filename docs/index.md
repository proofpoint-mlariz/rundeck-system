# rundeck-loadbalancer-checks

Checks useful for loadbalancer health checks

## SYNOPSIS

    rerun [ARGS] rundeck-loadbalancer-checks: [ is-available | is-quiescent | system-info ] [OPTIONS]

## README


	export RUNDECK_URL=http://targa:4440 RUNDECK_USER=admin RUNDECK_PASSWORD=sekrit
	rerun rundeck-loadbalancer-checks:is-available \
		--thresholds "THRESHOLDS_CPU_LOADAVERAGE=1 THRESHOLDS_MEM_FREE=90 THRESHOLDS_THREADS FREE=1" \
		--profile -  < <(rerun rundeck-loadbalancer-checks:system-info)

### Create a standalone script
Use the *stubbs:archive* command to create a standalone script:

	rerun stubbs:archive --modules rundeck-loadbalancer-checks \
		--file rundeck-loadbalancer-checks \
		--template modules/rundeck-loadbalancer-checks/templates/archive

Then you can run the same action using the `rundeck-loadbalancer-checks` script:

	./rundeck-loadbalancer-checks is-available \
		--thresholds "THRESHOLDS_CPU_LOADAVERAGE=8 THRESHOLDS_MEM_FREE_PCT=90 THRESHOLDS_THREADS_FREE=100" \
		--profile -  < <(./rundeck-loadbalancer-checks system-info)		

## COMMANDS

* [is-available](commands/is-available/index.html): the instance is available for traffic
* [is-quiescent](commands/is-quiescent/index.html): the instance is inactive
* [system-info](commands/system-info/index.html): get the instance system info

## OPTIONS

* [format](options/format/index.html): file format (profile,xml)
* [password](options/password/index.html): the login password.
* [profile](options/profile/index.html): the system load profile (use '-' for stdin)
* [thresholds](options/thresholds/index.html): the test thresholds (profile or key=value pairs)
* [url](options/url/index.html): rundeck server url.
* [username](options/username/index.html): the login user name.

## TESTS

* [get-system-info-1](tests/get-system-info-1.html)
* [is-available-1](tests/is-available-1.html)
* [is-available](tests/is-available.html)
* [is-quiescent-1](tests/is-quiescent-1.html)

## LIBRARY

* [functions.sh](lib/functions.html)

## METADATA

* `NAME` = rundeck-loadbalancer-checks
* `DESCRIPTION` = "Checks useful for loadbalancer health checks"
* `SHELL` = "bash"
* `VERSION` = 1.0.0
* `REQUIRES` = 
* `EXTERNALS` = xmlstarlet
* `LICENSE` = 

----

*Generated by stubbs:docs Mon Dec 14 11:08:58 PST 2015*
